openapi: 3.0.0
info:
  title: API para Gestão Escolar
  description: 'API para gestão escolar feita em Java com Spring Framework. Caio Santos Freitas e Luismar Pavani - UniFacef'
  version: 1.0.0
servers:
# Added by API Auto Mocking Plugin
  - url: 'http://api.example.com/v1'
    description: 'Altrar URL Depois'
  - description: Mock
    url: https://virtserver.swaggerhub.com/caiosantosf/api-escola-spring/1.0.0
paths:

 #professor

  /professores:
    get:
      tags:
        - "Professores"
      summary: Retorna os professores da escola
      parameters:
        - in: query
          name: offset
          schema:
            type: integer
            minimum: 1
            default: 1
          required: false
          description: Registro inicial. Se não for definido, equivale sempre ao registro 1. (O limit é fixo em 10 por página)
        - in: query
          name: nome_contains
          schema:
            type: string
            default: null
          required: false
          description: Filtro por nome utilizando clausula contains. Irá retornar os registros que conterem o texto pesquisado
      responses:
        200:
          description: Array com os dados dos professores da escola
          content:
            application/json:
              schema:
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                      limit:
                        type: integer
                  records:
                    type: array
                    items:
                      $ref: '#/components/schemas/professores'
        500:
          description: Erro interno de servidor
    post:
      tags:
        - "Professores"
      summary: Cria um professor
      requestBody:
        required: true
        description: Dados do professor para inserção
        content:
          application/json:
            schema:
              type: object
              properties:
                nome:
                  type: string
                numeroRegistro:
                  type: integer
                email:
                  type: string
                  
      responses:
        201:
          description: Foi criado um professor
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/professores'
        400:
          description: Existem erros na requisição
        404:
          description: Não existe a matéria com o ID informado
        500:
          description: Erro interno de servidor
    put:
      tags:
        - "Professores"
      summary: Atualiza um professor
      requestBody:
        required: true
        description: Dados do professor para atualização
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  type: integer
                nome:
                  type: string
                numeroRegistro:
                  type: integer
                email:
                  type: string

      responses:
        200:
          description: Foi atualizado o professor
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/professores'
        400:
          description: Existem erros na requisição
        404:
          description: Não existe professor com o ID informado
        500:
          description: Erro interno de servidor
  '/professores/{professorId}':
    get:
      tags:
        - "Professores"
      summary: Retorna um professor por ID
      parameters:
        - name: professorId
          in: path
          required: true
          description: id do professor
          schema:
            type: integer
            format: int64
            minimum: 1
      responses:
        200:
          description: Dados de um professor
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/professores'
        404:
          description: Não existe professor com o ID informado
        500:
          description: Erro interno de servidor
    delete:
      tags:
        - "Professores"
      summary: Exclui um professor
      parameters:
        - name: professorId
          in: path
          required: true
          description: id do Professor
          schema:
            type: integer
            format: int64
            minimum: 1
      responses:
        200:
          description: Foi excluído o professor
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/professores'
        404:
          description: Não existe professor com o ID informado
        500:
          description: Erro interno de servidor        
  
          
 #Matérias
          
  /materias:
    get:
      tags:
        - "Matérias"
      summary: Retorna as matérias da escola
      parameters:
        - in: query
          name: offset
          schema:
            type: integer
            minimum: 1
            default: 1
          required: false
          description: Registro inicial. Se não for definido, equivale sempre ao registro 1. (O limit é fixo em 10 por página)
        - in: query
          name: descricao_contains
          schema:
            type: string
            default: null
          required: false
          description: Filtro por descrição utilizando clausula contains. Irá retornar os registros que conterem o texto pesquisado
      responses:
        200:
          description: Array com os dados das matérias
          content:
            application/json:
              schema:
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                      limit:
                        type: integer
                  records:
                    type: array
                    items:
                      $ref: '#/components/schemas/materias'
        500:
          description: Erro interno de servidor
    post:
      tags:
        - "Matérias"
      summary: Cria uma matéria
      requestBody:
        description: Dados da matéria para inserção
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                descricao:
                  type: string
                quantidadeAulas:
                  type: integer
                professor:
                  type: object
                  properties:
                    id:
                      type: integer
                curso:
                  type: object
                  properties:
                    id:
                      type: integer
      responses:
        200:
          description: Foi criada uma matéria
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/materias'
        400:
          description: Existem erros na requisição
        404:
          description: Não existe o curso com o ID informado
        500:
          description: Erro interno de servidor
    put:
      tags:
        - "Matérias"
      summary: Atualiza uma matéria
      requestBody:
        description: Dados da matéria para atualização
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  type: integer
                descricao:
                  type: string
                quantidadeAulas:
                  type: integer
                professor:
                  type: object
                  properties:
                    id:
                      type: integer
                curso:
                  type: object
                  properties:
                    id:
                      type: integer
      responses:
        200:
          description: Foi atualizada a matéria
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/materias'
        400:
          description: Existem erros na requisição
        404:
          description: Não existe matéria com o ID informado
        500:
          description: Erro interno de servidor
  '/materias/{materiaId}':
    get:
      tags:
        - "Matérias"
      summary: Retorna uma matéria por ID
      parameters:
        - name: materiaId
          in: path
          required: true
          description: id do matéria
          schema:
            type: integer
            format: int64
            minimum: 1
      responses:
        200:
          description: Dados de uma matéria
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/materias'
        404:
          description: Não existe matéria com o ID informado
        500:
          description: Erro interno de servidor
    delete:
      tags:
        - "Matérias"
      summary: Exclui uma matéria
      parameters:
        - name: materiaId
          in: path
          required: true
          description: id da matéria
          schema:
            type: integer
            format: int64
            minimum: 1
      responses:
        200:
          description: Foi excluído a matéria
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/materias'
        404:
          description: Não existe matéria com o ID informado
        500:
          description: Erro interno de servidor 


 #curso

  /curso:
    get:
      tags:
        - "Cursos"
      summary: Retorna os cursos da escola
      parameters:
        - in: query
          name: offset
          schema:
            type: integer
            minimum: 1
            default: 1
          required: false
          description: Registro inicial. Se não for definido, equivale sempre ao registro 1. (O limit é fixo em 10 por página)
        - in: query
          name: descricao_contains
          schema:
            type: string
            default: null
          required: false
          description: Filtro por descrição utilizando clausula contains. Irá retornar os registros que conterem o texto pesquisado
      responses:
        200:
          description: Array com os dados dos cursos da escola
          content:
            application/json:
              schema:
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                      limit:
                        type: integer
                  records:
                    type: array
                    items:
                      $ref: '#/components/schemas/cursos'
        500:
          description: Erro interno de servidor
    post:
      tags:
        - "Cursos"
      summary: Cria um curso
      requestBody:
        description: Dados do curso para inserção
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                descricao:
                  type: string
                materias:
                  type: array
                  items:
                    properties:
                      id:
                        type: integer
      responses:
        201:
          description: Foi criado um curso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/cursos'
        400:
          description: Existem erros na requisição
        500:
          description: Erro interno de servidor
    put:
      tags:
        - "Cursos"
      summary: Atualiza um curso
      requestBody:
        description: Dados do curso para atualização
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  type: integer
                descricao:
                  type: string
                materias:
                  type: array
                  items:
                    properties:
                      id:
                        type: integer
      responses:
        200:
          description: Foi atualizado o curso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/cursos'
        400:
          description: Existem erros na requisição
        404:
          description: Não existe curso com o ID informado
        500:
          description: Erro interno de servidor
  '/cursos/{cursoId}':
    get:
      tags:
        - "Cursos"
      summary: Retorna um curso por ID
      parameters:
        - name: cursoId
          in: path
          required: true
          description: id do curso
          schema:
            type: integer
            format: int64
            minimum: 1
      responses:
        200:
          description: Dados de um curso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/cursos'
        404:
          description: Não existe curso com o ID informado
        500:
          description: Erro interno de servidor
    delete:
      tags:
        - "Cursos"
      summary: Exclui um curso
      parameters:
        - name: cursoId
          in: path
          required: true
          description: id do curso
          schema:
            type: integer
            format: int64
            minimum: 1
      responses:
        200:
          description: Foi excluído o curso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/cursos'
        404:
          description: Não existe curso com o ID informado
        500:
          description: Erro interno de servidor
          
 #turma

  /turma:
    get:
      tags:
        - "Turmas"
      summary: Retorna as turmas da escola
      parameters:
        - in: query
          name: offset
          schema:
            type: integer
            minimum: 1
            default: 1
          required: false
          description: Registro inicial. Se não for definido, equivale sempre ao registro 1. (O limit é fixo em 10 por página)
        - in: query
          name: descricao_contains
          schema:
            type: string
            default: null
          required: false
          description: Filtro por descrição utilizando clausula contains. Irá retornar os registros que conterem o texto pesquisado
      responses:
        200:
          description: Array com os dados das turmas da escola
          content:
            application/json:
              schema:
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                      limit:
                        type: integer
                  records:
                    type: array
                    items:
                      $ref: '#/components/schemas/turmas'
        500:
          description: Erro interno de servidor
    post:
      tags:
        - "Turmas"
      summary: Cria uma turma
      requestBody:
        description: Dados da turma para inserção
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                descricao:
                  type: string
                curso:
                  type: object
                  properties:
                    id:
                      type: integer
                alunos:
                  type: array
                  items:
                    properties:
                      id:
                        type: integer
      responses:
        201:
          description: Foi criado uma turma
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/turmas'
        400:
          description: Existem erros na requisição
        404:
          description: Não existe o curso com o ID informado
        500:
          description: Erro interno de servidor
    put:
      tags:
        - "Turmas"
      summary: Atualiza uma turma
      requestBody:
        description: Dados da turma para atualização
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  type: integer
                descricao:
                  type: string
                curso:
                  type: object
                  properties:
                    id:
                      type: integer
                alunos:
                  type: array
                  items:
                    properties:
                      id:
                        type: integer
      responses:
        200:
          description: Foi atualizada a turma
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/turmas'
        400:
          description: Existem erros na requisição
        404:
          description: Não existe turma com o ID informado
        500:
          description: Erro interno de servidor
  '/turmas/{turmaId}':
    get:
      tags:
        - "Turmas"
      summary: Retorna uma turma por ID
      parameters:
        - name: turmaId
          in: path
          required: true
          description: id da turma
          schema:
            type: integer
            format: int64
            minimum: 1
      responses:
        200:
          description: Dados de uma turma
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/turmas'
        404:
          description: Não existe turma com o ID informado
        500:
          description: Erro interno de servidor
    delete:
      tags:
        - "Turmas"
      summary: Exclui uma turma
      parameters:
        - name: turmaId
          in: path
          required: true
          description: id da turma
          schema:
            type: integer
            format: int64
            minimum: 1
      responses:
        200:
          description: Foi excluído a turma
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/turmas'
        404:
          description: Não existe turma com o ID informado
        500:
          description: Erro interno de servidor

 #aluno

  /alunos:
    get:
      tags:
        - "Alunos"
      summary: Retorna os alunos da escola
      parameters:
        - in: query
          name: offset
          schema:
            type: integer
            minimum: 1
            default: 1
          required: false
          description: Registro inicial. Se não for definido, equivale sempre ao registro 1. (O limit é fixo em 10 por página)
        - in: query
          name: nome_contains
          schema:
            type: string
            default: null
          required: false
          description: Filtro por nome utilizando clausula contains. Irá retornar os registros que conterem o texto pesquisado
      responses:
        200:
          description: Array com os dados dos alunos da escola
          content:
            application/json:
              schema:
                type: object
                properties:
                  meta:
                    type: object
                    properties:
                      offset:
                        type: integer
                      limit:
                        type: integer
                  records:
                    type: array
                    items:
                      $ref: '#/components/schemas/alunos'
        500:
          description: Erro interno de servidor
    post:
      tags:
        - "Alunos"
      summary: Cria um aluno
      requestBody:
        required: true
        description: Dados do aluno para inserção
        content:
          application/json:
            schema:
              type: object
              properties:
                nome:
                  type: string
                email:
                  type: string
                turma:
                  type: object
                  properties:
                    id:
                      type: integer
      responses:
        201:
          description: Foi criado um aluno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/alunos'
        400:
          description: Existem erros na requisição
        500:
          description: Erro interno de servidor
    put:
      tags:
        - "Alunos"
      summary: Atualiza um Aluno
      requestBody:
        description: Dados do aluno para atualização
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  type: integer
                nome:
                  type: string
                email:
                  type: string
                turma:
                  type: object
                  properties:
                    id:
                      type: integer
      responses:
        200:
          description: Foi atualizado um aluno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/alunos'
        400:
          description: Existem erros na requisição
        404:
          description: Não existe aluno com o ID informado
        500:
          description: Erro interno de servidor
  '/alunos/{alunoId}':
    get:
      tags:
        - "Alunos"
      summary: Retorna um aluno por ID
      parameters:
        - name: alunoId
          in: path
          required: true
          description: id do aluno
          schema:
            type: integer
            format: int64
            minimum: 1
      responses:
        200:
          description: Array com os dados do aluno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/alunos'
        404:
          description: Não existe aluno com o ID informado
        500:
          description: Erro interno de servidor
    delete:
      tags:
        - "Alunos"
      summary: Exclui um aluno
      parameters:
        - name: alunoId
          in: path
          required: true
          description: id do aluno
          schema:
            type: integer
            format: int64
            minimum: 1
      responses:
        200:
          description: Foi excluído o aluno
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/alunos'
        404:
          description: Não existe professor com o ID informado
        500:
          description: Erro interno de servidor     
    
          
tags:
  - name: Professores
    description: Entidade Professor
  - name: Matérias
    description: Entidade Matérias
  - name: Cursos
    description: Entidade Curso
  - name: Turmas
    description: Entidade Turma
  - name: Alunos
    description: Entidade Aluno
          
components:
  schemas:
    professores:
      required:
        - nome
        - numeroRegistro
        - email
      properties:
        id:
          type: integer
        nome:
          type: string
        numeroRegistro:
          type: integer
        email:
          type: string
            
    materias:
      required:
        - descricao
        - quantidadeAulas
      properties:
        id:
          type: integer
        descricao:
          type: string
        quantidadeAulas:
          type: integer
        curso:
          type: object
          properties:
            id:
              type: integer
            descricao:
              type: string
        professor:
          type: object
          properties:
            id:
              type: integer
            nome:
              type: string
            numeroRegistro:
              type: integer
            email:
              type: string
                
    cursos:
      required:
        - descricao
      properties:
        id:
          type: integer
        descricao:
          type: string
        materias:
          type: array
          items:
            properties:
              id:
                type: integer
              descricao:
                type: string
              quantidadeAulas:
                type: integer

                
    turmas:
      required:
        - descricao
      properties:
        id:
          type: integer
        descricao:
          type: string
        curso:
          type: object
          properties:
            id:
              type: integer
            descricao:
              type: string
        alunos:
          type: array
          items:
            properties:
              id:
                type: integer
              nome:
                type: string
              email:
                type: string        
          
    alunos:
      required:
        - nome
        - email
      properties:
        id:
          type: integer
        nome:
          type: string
        email:
          type: string
        turma:
          type: object
          properties:
            id:
              type: integer
            descricao:
              type: string
            curso:
              type: object
              properties:
                id:
                  type: integer
                descricao:
                  type: string
